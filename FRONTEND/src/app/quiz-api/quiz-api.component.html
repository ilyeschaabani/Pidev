<app-navbar></app-navbar>
<div style="margin-top: 100px;">
  <!-- Your tab navigation and formations list here -->
</div>
<div class="quiz-wrapper container mt-5">
  <h2 class="title mb-4 text-center">ðŸŽ¯ GÃ©nÃ©rer un Quiz</h2>

  <!-- SÃ©lection -->
  <div class="selection-box mb-5 p-4 rounded shadow-sm">
    <div class="row g-3">
      <div class="col-md-6">
        <label for="category" class="form-label fw-semibold">Sujet :</label>
        <select
          id="category"
          class="form-select custom-select"
          [(ngModel)]="selectedCategory"
        >
          <option value="Linux">Linux</option>
          <option value="Code">Programmation</option>
          <option value="DevOps">DevOps</option>
          <option value="Cloud">Cloud Computing</option>
        </select>
      </div>

      <div class="col-md-6">
        <label for="difficulty" class="form-label fw-semibold">DifficultÃ© :</label>
        <select
          id="difficulty"
          class="form-select custom-select"
          [(ngModel)]="selectedDifficulty"
        >
          <option value="Easy">Facile</option>
          <option value="Medium">Moyen</option>
          <option value="Hard">Difficile</option>
        </select>
      </div>
    </div>

    <button class="btn btn-generate mt-4" (click)="loadQuiz()">ðŸš€ GÃ©nÃ©rer</button>
  </div>

  <!-- Quiz Questions -->
  <div *ngIf="quizQuestions.length > 0" class="card p-4 shadow quiz-card">
    <h3 class="card-title mb-4 text-primary">ðŸ“˜ Quiz : {{ selectedCategory }}</h3>
    <ul class="list-unstyled">
      <li *ngFor="let question of quizQuestions; let i = index" class="mb-4 question-block">
        <strong class="d-block mb-2 text-dark">{{ i + 1 }}. {{ question.question }}</strong>
        <ul class="list-unstyled">
          <li *ngFor="let option of getAnswerOptions(question.answers)">
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="{{ question.id }}"
                [value]="option"
                [(ngModel)]="selectedAnswers[i]"
              />
              <label class="form-check-label">{{ option }}</label>
            </div>
          </li>
        </ul>
      </li>
    </ul>

    <button class="btn btn-submit mt-3" (click)="submitQuiz()">âœ… Soumettre</button>
  </div>

  <!-- RÃ©sultat -->
  <div *ngIf="showResult" class="card p-4 mt-4 shadow-sm result-card">
    <h3 class="card-title mb-3 text-success">ðŸŽ‰ RÃ©sultat du Quiz</h3>
    <p class="lead">Score : <strong>{{ score }}</strong> / {{ quizQuestions.length }}</p>
  </div>
</div>
