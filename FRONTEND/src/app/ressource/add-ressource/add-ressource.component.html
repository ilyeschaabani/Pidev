<div class="form-container-modern">
  <form (ngSubmit)="onSubmit()" class="form-section-modern">
    <h2 class="form-title-modern">{{ selectedResource ? 'Modifier' : 'Ajouter' }} une ressource</h2>

    <!-- Titre -->
    <div class="form-group-modern">
      <label for="titre">Titre</label>
      <input type="text" id="titre" [(ngModel)]="ressource.titre" name="titre" required />
    </div>

    <!-- Description -->
    <div class="form-group-modern">
      <label for="description">Description</label>
      <textarea id="description" [(ngModel)]="ressource.description" name="description" required></textarea>
    </div>

    <!-- Type et CatÃ©gorie -->
    <div class="form-row">
      <div class="form-group-modern">
        <label for="type">Type</label>
        <select id="type" [(ngModel)]="ressource.type" name="type" (change)="onTypeChange()" required>
          <option *ngFor="let type of types" [value]="type">{{ type }}</option>
        </select>
      </div>

      <div class="form-group-modern">
        <label for="category">CatÃ©gorie</label>
        <select id="category" [(ngModel)]="ressource.category" name="category" required>
          <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
        </select>
      </div>
    </div>

    <!-- Upload (vertical layout) -->
    <div class="upload-container-vertical">
      <label for="fileInput" class="upload-label-modern">
        <span class="upload-icon">ðŸ“Ž</span>
        {{ selectedFile ? selectedFile.name : 'Choisir un fichier' }}
      </label>
      <input type="file" id="fileInput" (change)="onFileSelected($event)" hidden />

      <button type="button" class="violet-button" (click)="uploadFile()">TÃ©lÃ©verser</button>

      <div class="upload-message" *ngIf="uploadMessage">{{ uploadMessage }}</div>
    </div>

    <!-- Boutons -->
    <div class="form-actions-modern">
      <button type="submit" class="violet-button" [disabled]="ressource.fileName === ''">
        {{ selectedResource ? 'Modifier' : 'Ajouter' }}
      </button>
      <button type="button" class="cancel-button" (click)="resetForm()">RÃ©initialiser</button>
    </div>

    <!-- Alertes -->
    <div class="alert-message success" *ngIf="successMessage">{{ successMessage }}</div>
    <div class="alert-message error" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>
